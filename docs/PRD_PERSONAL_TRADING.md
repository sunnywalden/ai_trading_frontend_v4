# 个人交易系统 PRD（大版本详细设计）

> 适用范围：个人交易使用场景（低复杂度、强执行、可复盘、可风控）
> 文档版本：v1.0
> 日期：2026-01-16

---

## 1. 背景与目标

### 1.1 背景

当前系统具备行为评分、持仓评估、宏观风险、潜在机会与 API 监控等模块。该版本偏“机构级/数据平台化”。本 PRD 将这些能力重构为“个人交易场景”的体验型系统，强调低负担、可执行、可复盘与风控闭环。

### 1.2 目标

- 建立可落地的个人交易执行系统（计划→执行→复盘）。
- 降低操作负担（单日关键动作 ≤ 5 步）。
- 可量化控制风险（最大回撤可控、连亏可控）。

### 1.3 北极星指标

- 年化收益 $R_{ann}$、最大回撤 $DD_{max}$、盈亏比 $RR$、胜率 $W$
- 计划执行率 ≥ 80%
- 风险预警命中率 ≥ 70%

---

## 2. 用户画像与场景

### 2.1 用户画像

- 个人交易者（有一定交易经验，关注稳定性）
- 希望半自动化辅助决策，但保留自主执行权

### 2.2 核心场景

1. 早盘查看风险水位 + 持仓状况
2. 根据计划执行交易并接收提醒
3. 盘后复盘：偏离原因与改进建议

---

## 3. 当前功能与调整清单（必需）

### 3.1 当前模块盘点

- 行为评分（BehaviorScorePage）
- 持仓评估（PositionsPage）
- 宏观风险（MacroRiskPage）
- 潜在机会（OpportunitiesPage）
- API 监控（ApiMonitoringPage）

### 3.2 调整 / 复用 / 移除

| 当前功能 | 处理方式 | 调整说明 |
| --- | --- | --- |
| 行为评分 | 保留 + 调整 | 简化指标 + 重点提示“偏离交易计划”与“过度交易” |
| 持仓评估 | 保留 + 调整 | 增加“计划达成度”、“持仓与风险预算偏离度” |
| 宏观风险 | 降级为参考项 | 改为“宏观提醒”模块，仅展示摘要与风险等级 |
| 潜在机会 | 保留 + 调整 | 改为“执行列表”，强调与交易计划匹配 |
| API 监控 | 移除 | 对个人交易价值低，改为“系统健康状态”简版 |

> 说明：功能拆分后不影响后端，只调整 UI/体验层与数据字段显示优先级。

---

## 4. 版本规划（V1~V5）

### V1（基础看板 + 执行计划）

#### V1 核心模块

- 交易仪表盘（风险水位 + 账户收益）
- 交易计划卡片（入场/止损/止盈/仓位）
- 持仓评估（风险预算 vs 实际偏离）
- 行为评分简化版（过度交易、追涨杀跌）

### V2（策略化提醒 + 复盘）

#### V2 核心模块

- 策略触发提醒（入场/止损/止盈）
- 交易日志与复盘评分
- 计划执行率统计

### V3（轻量风控 + 资金管理）

#### V3 核心模块

- 风险预算分配（单笔风险、最大连亏）
- 心理压力提醒（连续亏损预警）
- 资金曲线与回撤追踪

### V4（AI 复盘助手）

#### V4 核心模块

- 自动复盘总结（错误/机会/改进）
- 胜率分布 & 因子解释

### V5（半自动执行）

#### V5 核心模块

- 半自动止损/止盈/分批加减仓
- 多策略组合切换（保守/进取模式）

---

## 5. 详细功能设计（核心模块）

### 5.1 交易仪表盘

- 目标：一屏知晓风险水位、盈亏、执行状态
- 数据：账户权益、风险水位（Delta/Gamma/Theta）、今日盈亏
- 操作：刷新数据、快速跳转到计划与复盘

### 5.2 交易计划卡片

- 字段：标的、计划入场、止损、止盈、计划仓位
- 状态：未触发 / 已执行 / 偏离
- 提醒：触发价位预警

### 5.3 行为评分简化

- 只保留：过度交易、追涨杀跌、报复性交易
- 输出：评分 + 一句话建议

### 5.4 持仓评估

- 增加字段：风险预算占用率、计划偏离度
- 提示：是否超过单笔风险/行业风险阈值

### 5.5 复盘模块

- 复盘评分：计划执行率、偏离原因
- AI 复盘建议（V4）

---

## 6. 信息架构（IA）

- 首页：交易仪表盘（默认）
- 页面结构：
  - 行为评分（简化）
  - 持仓评估（增强）
  - 风险提醒（宏观简版）
  - 执行列表（机会）
  - 系统健康（API 监控简化）

---

## 7. 埋点与数据需求

- 关键埋点：计划触发、计划执行、计划偏离、止损触发
- 统计指标：计划执行率、连续亏损天数、平均持仓周期

---

## 8. 风险与合规（个人版）

- 账户风险预算上限
- 连续亏损自动提醒
- 系统误差提示（行情断线/指标缺失）

---

## 9. 版本节奏与验收

| 版本 | 里程碑 | 验收指标 |
| --- | --- | --- |
| V1 | 交易计划 + 风险看板 | 日常操作 ≤ 5 步，计划执行率 ≥ 70% |
| V2 | 复盘 + 提醒 | 复盘完成率 ≥ 80% |
| V3 | 风控预算 | 最大回撤 ≤ 目标阈值 |
| V4 | AI 复盘 | 用户主观评分 ≥ 4/5 |
| V5 | 半自动执行 | 订单滑点 ≤ 设定阈值 |

---

## 10. 依赖与风险

- 依赖：后端需提供计划与复盘字段、风险预算字段
- 风险：过度自动化可能引发误触发交易，需要明确提示与确认

---

## 11. 落地到当前系统的改造清单（重点）

### 必改

- 行为评分页：减少指标数量 + 强调偏离交易计划
- 持仓评估页：新增“计划偏离度 / 风险预算占用”信息
- 潜在机会页：改为“执行列表”，强调与计划匹配

### 可移除

- API 监控页 → 替换为“系统健康状态”简版

### 保留但降级

- 宏观风险页 → 仅保留摘要与风险等级

---

## 12. 交付物清单

- 前端页面更新（Vue）
- 后端 API 字段扩展（计划、复盘、预算）
- 数据埋点与统计报表

---

## 13. 开放问题

- 是否需要接入券商 API 做半自动执行？
- 风险预算的默认规则（按资金比例 / 按标的）

---

## 14. 结论

本 PRD 将现有系统重构为“个人交易执行系统”，保留核心模块、移除低价值模块，并通过计划/复盘/风控形成闭环。
