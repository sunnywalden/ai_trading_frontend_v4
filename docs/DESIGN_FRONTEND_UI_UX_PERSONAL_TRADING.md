# 前端 UI/UX 设计文档（个人交易版）

> 适配个人交易系统体验
> 文档版本：v1.1
> 日期：2026-01-16

---

## 1. 设计目标

- 降低操作负担（单日关键操作 ≤ 5 次）
- 一屏风险与计划状态可见
- 重点提示“计划偏离”与“风险超限”

---

## 2. 设计约束（来自现有系统）

必须遵守：

1. 宏观与短期趋势不联动
   - 宏观风险与持仓趋势独立展示，不合并成单一信号。
2. 趋势快照持久化
   - 日线快照来自后端快照表，非每次实时计算。
3. 不输出趋势置信度
   - 允许展示“趋势强度”，禁止“置信度”数值或标签。

---

## 3. 信息架构

- 首页：交易仪表盘
- 行为评分（简化）
- 持仓评估（增强）
- 执行列表（机会页改造）
- 宏观提醒（摘要）
- 系统健康

---

## 4. 页面布局原型（结构树）

### 4.1 交易仪表盘

```text
[Header]
  - 账户权益 / 今日盈亏 / 风险水位
[PlanProgress]
  - 执行进度 / 偏离提示
[QuickActions]
  - 复盘 / 执行列表
```

### 4.2 行为评分页

```text
[Header]
  - 窗口天数
[PlanDeviationSummaryCard]
[BehaviorScoreCorePanel]
[BehaviorGuideline]
```

### 4.3 持仓评估页

```text
[Header + 刷新按钮]
[SummaryBar]
[PositionsGrid]
  - PositionScoreCard
    - BudgetUtilizationBadge
    - PlanDeviationTag
    - TrendSnapshotCard
[PositionsGuideline]
```

### 4.4 执行列表页

```text
[Header]
[ExecutionListHeader]
[ExecutionListGrid]
  - ExecutionItemCard
    - PlanMatchTag
```

### 4.5 宏观提醒页

```text
[Header]
[MacroRiskDigestCard]
[DetailAccordion]
```

### 4.6 系统健康页

```text
[Header]
[SystemHealthCard]
  - 状态 / 最近更新时间 / 重试按钮
```

---

## 5. 页面细化设计

### 5.1 行为评分页（简化）

功能聚焦：纪律与计划执行偏离。

- 保留核心评分项（过度交易、追涨杀跌、报复性交易）
- 新增：计划偏离总结卡
- 操作：窗口天数调整 + 重新计算

状态文案：

- 加载中：正在加载行为评分…
- 超时：⏱️ 请求超时，请稍后再试！
- 网络错误：🌐 网络连接失败，请检查网络或后端服务状态

### 5.2 持仓评估页（增强）

关键要求：

- `trend_snapshot` 允许为空，必须空态 + 刷新入口
- 趋势强度显示为“强度”，不显示“置信度”
- 支撑/阻力位只显示前 2~3 项，其余折叠

趋势快照卡 UI：

- 趋势方向：图标 + 颜色
- 趋势强度：进度条
- RSI/MACD/布林带状态
- 量能比率：放量/缩量
- AI 摘要：失败时降级为规则摘要

### 5.3 执行列表页（机会改造）

- 执行列表仅展示符合计划/偏好标的
- 支持计划匹配理由展示
- 当宏观风险为 HIGH/EXTREME 时显示提醒条

### 5.4 宏观提醒页（摘要化）

- 默认仅显示风险等级 + 一句话摘要
- 详情折叠，避免信息过载

### 5.5 系统健康页

- 仅展示服务健康状态
- 提供“重试”入口

---

## 6. 交互规范

- 风险超限：红色高亮 + 固定提示
- 计划偏离：橙色提示
- 正常状态：绿色
- 卡片 Hover：轻微上浮 + 边框增强

---

## 7. 视觉规范

- 颜色：深色底 + 蓝绿点缀
- 字体：14–16px 主体，标题 18–22px
- 卡片圆角：10px
- 间距：16–24px

---

## 8. 状态与空态

- 无数据：显示空态 + 引导刷新
- 超时：显示超时提示与重试按钮
- 没有计划：显示“创建计划”入口

---

## 9. 可用性与无障碍

- 关键按钮尺寸 ≥ 44px
- 重要信息同时用颜色 + 图标表达

---

## 10. 组件级交互细化

### 10.1 PlanDeviationSummaryCard（计划偏离总结卡）

交互：

- Hover：显示最近 7 天偏离详情（Tooltip）
- Click：跳转到“行为评分页”偏离详情（可选）

状态：

- 无偏离：显示“本周期无明显偏离 ✅”
- 轻度偏离：橙色提示 + 建议
- 重度偏离：红色提示 + 固定告警条

### 10.2 PositionScoreCard（持仓卡）

交互：

- Hover：显示“预算占用率 / 计划偏离度”的简要提示
- Click：展开/收起趋势快照（仅内容折叠）

状态：

- 风险超限：卡片边框红色 + 顶部提示条
- 正常：边框蓝灰，Hover 时轻微上浮

### 10.3 TrendSnapshotCard（趋势快照）

交互：

- 空态按钮：点击触发刷新单标的
- 指标条 Hover：显示数值解释（RSI/量能等）

空态：

- 文案：尚未生成今日快照
- 按钮：刷新评估

### 10.4 ExecutionItemCard（执行列表卡）

交互：

- PlanMatchTag：Hover 显示匹配原因
- 卡片右上角操作：加入计划 / 忽略

### 10.5 SystemHealthCard（系统健康）

交互：

- 重试按钮：触发健康检查 API
- 状态图标 Hover：显示最近更新时间

---

## 11. 视觉规格（尺寸/栅格/状态色表）

### 11.1 栅格与布局

- 页面最大宽度：1200px
- 内容左右边距：24px
- 栅格：12 列，列间距 16px
- 卡片最小宽度：320px

### 11.2 组件尺寸

| 组件 | 最小高度 | 推荐宽度 | 备注 |
| --- | --- | --- | --- |
| SummaryBar | 72px | 100% | 顶部汇总条 |
| PositionScoreCard | 220px | 360~420px | 自适应 |
| TrendSnapshotCard | 200px | 100% | 折叠内容 |
| ExecutionItemCard | 180px | 320~420px | 带标签 |
| SystemHealthCard | 120px | 520px | 单列 |

### 11.3 状态色表

| 状态 | 颜色 | 用途 |
| --- | --- | --- |
| 正常 | `#22c55e` | 正常/通过 |
| 注意 | `#f59e0b` | 计划偏离/提示 |
| 危险 | `#ef4444` | 风险超限/失败 |
| 信息 | `#38bdf8` | 主按钮/链接 |
| 灰色 | `#9ca3af` | 次级文本 |

### 11.4 字体与层级

- H1：22px / 600
- H2：18px / 600
- 正文：14–16px / 400
- 标签：12px / 500

### 11.5 间距与圆角

- 卡片内边距：16px
- 区块间距：16–24px
- 圆角：10px

